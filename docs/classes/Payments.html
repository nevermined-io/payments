<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Payments | @nevermined-io/payments</title><meta name="description" content="Documentation for @nevermined-io/payments"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@nevermined-io/payments</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@nevermined-io/payments</a></li><li><a href="Payments.html">Payments</a></li></ul><h1>Class Payments</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Main class that interacts with the Nevermined payments API.
Use <code>Payments.getInstance</code> for server-side usage or <code>Payments.getBrowserInstance</code> for browser usage.</p>
</div><div class="tsd-comment tsd-typography"><h4>Remarks</h4><p>This API requires a Nevermined API Key, which can be obtained by logging in to the Nevermined App.</p>
<p>The library provides methods to manage AI Agents, Plans &amp; process AI Agent Requests.</p>
<p>Each of these functionalities is encapsulated in its own API class:</p>
<ul>
<li><code>plans</code>: Manages AI Plans, including registration and ordering and retrieving plan details.</li>
<li><code>agents</code>: Handles AI Agents, including registration of AI Agents and access token generation.</li>
<li><code>requests</code>: Manages requests received by AI Agents, including validation and tracking.</li>
<li><code>observability</code>: Provides observability and logging utilities for AI Agents with Helicone integration</li>
</ul>
</div></section><section class="tsd-panel tsd-hierarchy"><h4>Hierarchy</h4><ul class="tsd-hierarchy"><li><span class="tsd-signature-type">BasePaymentsAPI</span><ul class="tsd-hierarchy"><li><span class="target">Payments</span></li></ul></li></ul></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L32">src/payments.ts:32</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="Payments.html#constructor" class="tsd-index-link tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="Payments.html#_a2aRegistry" class="tsd-index-link tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_a2a<wbr/>Registry?</span></a>
<a href="Payments.html#_mcpIntegration" class="tsd-index-link tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_mcp<wbr/>Integration?</span></a>
<a href="Payments.html#accountAddress" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>account<wbr/>Address</span></a>
<a href="Payments.html#agents" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>agents</span></a>
<a href="Payments.html#appId" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>app<wbr/>Id?</span></a>
<a href="Payments.html#contracts" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>contracts</span></a>
<a href="Payments.html#environment" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>environment</span></a>
<a href="Payments.html#environmentName" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>environment<wbr/>Name</span></a>
<a href="Payments.html#facilitator" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>facilitator</span></a>
<a href="Payments.html#heliconeApiKey" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>helicone<wbr/>Api<wbr/>Key</span></a>
<a href="Payments.html#isBrowserInstance" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>is<wbr/>Browser<wbr/>Instance</span></a>
<a href="Payments.html#nvmApiKey" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>nvm<wbr/>Api<wbr/>Key</span></a>
<a href="Payments.html#observability" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>observability</span></a>
<a href="Payments.html#organizations" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>organizations</span></a>
<a href="Payments.html#plans" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>plans</span></a>
<a href="Payments.html#query" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>query</span></a>
<a href="Payments.html#requests" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>requests</span></a>
<a href="Payments.html#returnUrl" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>return<wbr/>Url</span></a>
<a href="Payments.html#version" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>version?</span></a>
<a href="Payments.html#x402" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>x402</span></a>
<a href="Payments.html#a2a" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>a2a</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Accessors</h3><div class="tsd-index-list"><a href="Payments.html#a2a-1" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>a2a</span></a>
<a href="Payments.html#isLoggedIn" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Logged<wbr/>In</span></a>
<a href="Payments.html#mcp" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>mcp</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="Payments.html#connect" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>connect</span></a>
<a href="Payments.html#getAccountAddress" class="tsd-index-link tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Account<wbr/>Address</span></a>
<a href="Payments.html#getBackendHTTPOptions" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>BackendHTTPOptions</span></a>
<a href="Payments.html#getPublicHTTPOptions" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>PublicHTTPOptions</span></a>
<a href="Payments.html#initializeApi" class="tsd-index-link tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>initialize<wbr/>Api</span></a>
<a href="Payments.html#logout" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>logout</span></a>
<a href="Payments.html#parseNvmApiKey" class="tsd-index-link tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>parse<wbr/>Nvm<wbr/>Api<wbr/>Key</span></a>
<a href="Payments.html#getBrowserInstance" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Browser<wbr/>Instance</span></a>
<a href="Payments.html#getInstance" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Instance</span></a>
</div></section></div></details></section></section><section class="tsd-panel-group tsd-member-group"><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-is-private"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagPrivate">Private</code> <span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-private"><li class="tsd-signature tsd-anchor-link"><a id="constructor.new_Payments" class="tsd-anchor"></a><span class="tsd-kind-constructor-signature">new <wbr/>Payments</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span>, <span class="tsd-kind-parameter">isBrowserInstance</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Payments.html" class="tsd-signature-type tsd-kind-class">Payments</a><a href="#constructor.new_Payments" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initializes the Payments class.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/PaymentOptions.html" class="tsd-signature-type tsd-kind-interface">PaymentOptions</a></span><div class="tsd-comment tsd-typography"><p>The options to initialize the payments class.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">isBrowserInstance</span>: <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></span><div class="tsd-comment tsd-typography"><p>Whether this instance is for browser usage.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Payments.html" class="tsd-signature-type tsd-kind-class">Payments</a></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Overrides BasePaymentsAPI.constructor</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L162">src/payments.ts:162</a></li></ul></aside></li></ul></section></section><section class="tsd-panel-group tsd-member-group"><h2>Properties</h2><section class="tsd-panel tsd-member tsd-is-private"><a id="_a2aRegistry" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagPrivate">Private</code> <code class="tsd-tag ts-flagOptional">Optional</code> <span>_a2a<wbr/>Registry</span><a href="#_a2aRegistry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_a2a<wbr/>Registry</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">ClientRegistry</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L42">src/payments.ts:42</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-private"><a id="_mcpIntegration" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagPrivate">Private</code> <code class="tsd-tag ts-flagOptional">Optional</code> <span>_mcp<wbr/>Integration</span><a href="#_mcpIntegration" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">_mcp<wbr/>Integration</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">attach</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">server</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">authenticateMeta</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">extra</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">method</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">configure</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">createApp</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Application</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">createRouter</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Router</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">getConfig</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerPrompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerPrompt-2.__type-14.__type-15.Args">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerResource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">uriOrTemplate</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerTool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerTool-2.__type-18.__type-19.Args-1">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">startServer</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">stop</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">withPaywall</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></div><div class="tsd-comment tsd-typography"><p>Cached MCP integration to preserve configuration (e.g., agentId, serverName)
across multiple getter accesses. This ensures callers do not need to retain
a reference to a previously configured instance.</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">attach</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">server</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.attach.__type-1.__type-2"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">server</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Attach paywall protection to an MCP server.
Returns a registrar with protected register methods.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">server</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">registerPrompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerResource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerTool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>The MCP server instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Prompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Resource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">template</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Tool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h4><p>Protected registrar</p>
<ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-method">register<wbr/>Prompt</span><span class="tsd-signature-symbol">:</span>function</h5><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">register<wbr/>Prompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PromptOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;kind&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;name&quot;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/mcp/index.ts#L354">src/mcp/index.ts:354</a></li></ul></aside></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-method">register<wbr/>Resource</span><span class="tsd-signature-symbol">:</span>function</h5><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerResource.registerResource-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">register<wbr/>Resource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerResource.registerResource-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">template</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">uri</span>: <span class="tsd-signature-type">URL</span></span></li><li><span><span class="tsd-kind-parameter">variables</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ResourceOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;kind&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;name&quot;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/mcp/index.ts#L335">src/mcp/index.ts:335</a></li></ul></aside></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-method">register<wbr/>Tool</span><span class="tsd-signature-symbol">:</span>function</h5><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">register<wbr/>Tool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ToolOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;kind&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;name&quot;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/mcp/index.ts#L326">src/mcp/index.ts:326</a></li></ul></aside></li></ul></li></ul><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">authenticate<wbr/>Meta</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">extra</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">method</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.authenticateMeta.__type-4.__type-5"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">extra</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">method</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Authenticate meta MCP operations (initialize, tools/list, etc.).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The extra parameter from MCP</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">planId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-property">plan<wbr/>Id</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">method</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The MCP method being called</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Authentication result</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">configure</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.configure.__type-6.__type-7"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Configure the MCP integration.
This sets up the agent ID, server name, and optional HTTP settings.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a></span><div class="tsd-comment tsd-typography"><p>Configuration options</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">configure</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">agentId:</span><span class="hl-2"> </span><span class="hl-3">&#39;agent_123&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">baseUrl:</span><span class="hl-2"> </span><span class="hl-3">&#39;http://localhost:5001&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">environment:</span><span class="hl-2"> </span><span class="hl-3">&#39;staging_sandbox&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">tools:</span><span class="hl-2"> [</span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;weather&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">})</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">create<wbr/>App</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Application</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.createApp.__type-8.__type-9"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Application</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create an Express app pre-configured with OAuth discovery endpoints.
Use this when you want more control over the app before starting.</p>
<p>Note: Authentication is handled by withPaywall() on each tool,
not by HTTP middleware.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">CreateRouterOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;agentId&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">agentId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>App configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Application</span></h4><p>Configured Express app with OAuth endpoints</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">app</span><span class="hl-2"> = </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">createApp</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">baseUrl:</span><span class="hl-2"> </span><span class="hl-3">&#39;http://localhost:5001&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-0">// Add your MCP handler - auth via withPaywall() on each tool</span><br/><span class="hl-8">app</span><span class="hl-2">.</span><span class="hl-1">post</span><span class="hl-2">(</span><span class="hl-3">&#39;/mcp&#39;</span><span class="hl-2">, </span><span class="hl-8">mcpHandler</span><span class="hl-2">)</span><br/><br/><span class="hl-8">app</span><span class="hl-2">.</span><span class="hl-1">listen</span><span class="hl-2">(</span><span class="hl-6">5001</span><span class="hl-2">)</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">create<wbr/>Router</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Router</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.createRouter.__type-10.__type-11"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Router</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create an Express router with OAuth 2.1 endpoints.
Use this when you already have an Express app and want to add OAuth support.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">CreateRouterOptions</span></span><div class="tsd-comment tsd-typography"><p>Router configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Router</span></h4><p>Express Router</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">router</span><span class="hl-2"> = </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">createRouter</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">baseUrl:</span><span class="hl-2"> </span><span class="hl-3">&#39;http://localhost:5001&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">tools:</span><span class="hl-2"> [</span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-8">app</span><span class="hl-2">.</span><span class="hl-1">use</span><span class="hl-2">(</span><span class="hl-8">router</span><span class="hl-2">)</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">get<wbr/>Config</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.getConfig.__type-12.__type-13"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the current configuration.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a></h4><p>Current MCP configuration</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Prompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerPrompt-2.__type-14.__type-15.Args">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.registerPrompt-2.__type-14.__type-15"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerPrompt-2.__type-14.__type-15.Args">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a prompt with the simplified API.
Must be called before start().
Matches the signature of MCP SDK registerPrompt.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="_mcpIntegration.__type.registerPrompt-2.__type-14.__type-15.Args" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">Args</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Prompt name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpPromptConfig</span></span><div class="tsd-comment tsd-typography"><p>Prompt configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">PromptHandler</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerPrompt-2.__type-14.__type-15.Args">Args</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Prompt handler function</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">McpRegistrationOptions</span></span><div class="tsd-comment tsd-typography"><p>Registration options (credits, etc.)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Resource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">uriOrTemplate</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.registerResource-2.__type-16.__type-17"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">uriOrTemplate</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a resource with the simplified API.
Must be called before start().</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Resource name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">uriOrTemplate</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Resource URI (string) or template</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpResourceConfig</span></span><div class="tsd-comment tsd-typography"><p>Resource metadata configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">ResourceHandler</span></span><div class="tsd-comment tsd-typography"><p>Resource handler function</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">McpRegistrationOptions</span></span><div class="tsd-comment tsd-typography"><p>Registration options (credits, etc.)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Tool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerTool-2.__type-18.__type-19.Args-1">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.registerTool-2.__type-18.__type-19"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerTool-2.__type-18.__type-19.Args-1">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a tool with the simplified API.
Must be called before start().</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="_mcpIntegration.__type.registerTool-2.__type-18.__type-19.Args-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">Args</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Tool name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpToolConfig</span></span><div class="tsd-comment tsd-typography"><p>Tool configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">ToolHandler</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerTool-2.__type-18.__type-19.Args-1">Args</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Tool handler function</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">McpRegistrationOptions</span></span><div class="tsd-comment tsd-typography"><p>Registration options (credits, etc.)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">registerTool</span><span class="hl-2">(</span><br/><span class="hl-2">  </span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  {</span><br/><span class="hl-2">    </span><span class="hl-8">description:</span><span class="hl-2"> </span><span class="hl-3">&#39;Returns a hello world message&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-8">inputSchema:</span><span class="hl-2"> { </span><span class="hl-8">name:</span><span class="hl-2"> { </span><span class="hl-8">type:</span><span class="hl-2"> </span><span class="hl-3">&#39;string&#39;</span><span class="hl-2"> } }</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-5">async</span><span class="hl-2"> (</span><span class="hl-8">args</span><span class="hl-2">: { </span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-10">string</span><span class="hl-2"> }, </span><span class="hl-8">context</span><span class="hl-2">?: </span><span class="hl-10">ToolContext</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> ({</span><br/><span class="hl-2">    </span><span class="hl-8">content:</span><span class="hl-2"> [{ </span><span class="hl-8">type:</span><span class="hl-2"> </span><span class="hl-3">&#39;text&#39;</span><span class="hl-2">, </span><span class="hl-8">text:</span><span class="hl-2"> </span><span class="hl-3">`Hello, </span><span class="hl-5">${</span><span class="hl-8">args</span><span class="hl-11">.</span><span class="hl-8">name</span><span class="hl-5">}</span><span class="hl-3">!`</span><span class="hl-2"> }]</span><br/><span class="hl-2">  }),</span><br/><span class="hl-2">  { </span><span class="hl-8">credits:</span><span class="hl-2"> </span><span class="hl-6">1</span><span class="hl-2">, </span><span class="hl-8">onRedeemError:</span><span class="hl-2"> </span><span class="hl-3">&#39;ignore&#39;</span><span class="hl-2"> }</span><br/><span class="hl-2">)</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.start.__type-20.__type-21"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Start the MCP server with the simplified API.
This creates and starts everything: McpServer, Express, OAuth endpoints, etc.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpServerConfig</span></span><div class="tsd-comment tsd-typography"><p>Server configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Server result with stop() method</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-0">// Register tools first</span><br/><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">registerTool</span><span class="hl-2">(</span><span class="hl-3">&#39;hello&#39;</span><span class="hl-2">, { </span><span class="hl-8">description:</span><span class="hl-2"> </span><span class="hl-3">&#39;...&#39;</span><span class="hl-2"> }, </span><span class="hl-8">handler</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// Then start the server</span><br/><span class="hl-5">const</span><span class="hl-2"> { </span><span class="hl-9">info</span><span class="hl-2">, </span><span class="hl-9">stop</span><span class="hl-2"> } = </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">port:</span><span class="hl-2"> </span><span class="hl-6">5001</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">agentId:</span><span class="hl-2"> </span><span class="hl-3">&#39;did:nv:...&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-8">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Server running at </span><span class="hl-5">${</span><span class="hl-8">info</span><span class="hl-11">.</span><span class="hl-8">baseUrl</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// Later: stop gracefully</span><br/><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-1">stop</span><span class="hl-2">()</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">start<wbr/>Server</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.startServer.__type-22.__type-23"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Start a managed HTTP server with OAuth 2.1 support.
This creates a complete Express server with all OAuth endpoints pre-configured.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">StartServerOptions</span></span><div class="tsd-comment tsd-typography"><p>Server configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Server result with control methods</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> { </span><span class="hl-9">baseUrl</span><span class="hl-2">, </span><span class="hl-9">stop</span><span class="hl-2"> } = </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">startServer</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">port:</span><span class="hl-2"> </span><span class="hl-6">5001</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">tools:</span><span class="hl-2"> [</span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;weather&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-8">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Server running at </span><span class="hl-5">${</span><span class="hl-8">baseUrl</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// Later: gracefully stop</span><br/><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-1">stop</span><span class="hl-2">()</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">stop</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.stop.__type-24.__type-25"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Stop the MCP server.
This is a convenience method - you can also use the stop() from start()&#39;s result.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">with<wbr/>Paywall</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.withPaywall.__type-26.__type-27"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Wrap a handler with paywall protection.
The wrapped handler will validate authentication and burn credits.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">ToolOptions</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PromptOptions</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.withPaywall.__type-26.__type-27.__type-28.__type-29"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul><div class="tsd-comment tsd-typography"></div></li><li class="tsd-signature" id="_mcpIntegration.__type.withPaywall.__type-26.__type-30"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.withPaywall.__type-26.__type-30.__type-31.__type-32"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li><li class="tsd-signature" id="_mcpIntegration.__type.withPaywall.__type-26.__type-33"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">uri</span>: <span class="tsd-signature-type">URL</span></span></li><li><span><span class="tsd-kind-parameter">variables</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">ResourceOptions</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="_mcpIntegration.__type.withPaywall.__type-26.__type-33.__type-34.__type-35"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">uri</span>: <span class="tsd-signature-type">URL</span></span></li><li><span><span class="tsd-kind-parameter">variables</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul></li></ul></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L49">src/payments.ts:49</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="accountAddress" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>account<wbr/>Address</span><a href="#accountAddress" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">account<wbr/>Address</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.accountAddress</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L18">src/api/base-payments.ts:18</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="agents" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>agents</span><a href="#agents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">agents</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AgentsAPI</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L35">src/payments.ts:35</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="appId" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <code class="tsd-tag ts-flagOptional">Optional</code> <span>app<wbr/>Id</span><a href="#appId" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">app<wbr/>Id</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.appId</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L16">src/api/base-payments.ts:16</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="contracts" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>contracts</span><a href="#contracts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">contracts</span><span class="tsd-signature-symbol">:</span> <a href="ContractsAPI.html" class="tsd-signature-type tsd-kind-class">ContractsAPI</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L39">src/payments.ts:39</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="environment" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>environment</span><a href="#environment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">environment</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/EnvironmentInfo.html" class="tsd-signature-type tsd-kind-interface">EnvironmentInfo</a></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.environment</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L13">src/api/base-payments.ts:13</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="environmentName" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>environment<wbr/>Name</span><a href="#environmentName" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">environment<wbr/>Name</span><span class="tsd-signature-symbol">:</span> <a href="../types/EnvironmentName.html" class="tsd-signature-type tsd-kind-type-alias">EnvironmentName</a></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.environmentName</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L14">src/api/base-payments.ts:14</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="facilitator" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>facilitator</span><a href="#facilitator" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">facilitator</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">FacilitatorAPI</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L40">src/payments.ts:40</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="heliconeApiKey" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>helicone<wbr/>Api<wbr/>Key</span><a href="#heliconeApiKey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">helicone<wbr/>Api<wbr/>Key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.heliconeApiKey</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L19">src/api/base-payments.ts:19</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="isBrowserInstance" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Browser<wbr/>Instance</span><a href="#isBrowserInstance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">is<wbr/>Browser<wbr/>Instance</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> = true</span></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.isBrowserInstance</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L20">src/api/base-payments.ts:20</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="nvmApiKey" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>nvm<wbr/>Api<wbr/>Key</span><a href="#nvmApiKey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">nvm<wbr/>Api<wbr/>Key</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.nvmApiKey</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L12">src/api/base-payments.ts:12</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="observability" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>observability</span><a href="#observability" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">observability</span><span class="tsd-signature-symbol">:</span> <a href="ObservabilityAPI.html" class="tsd-signature-type tsd-kind-class">ObservabilityAPI</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L37">src/payments.ts:37</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="organizations" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>organizations</span><a href="#organizations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">organizations</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">OrganizationsAPI</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L38">src/payments.ts:38</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="plans" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>plans</span><a href="#plans" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">plans</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">PlansAPI</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L34">src/payments.ts:34</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="query" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>query</span><a href="#query" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">query</span><span class="tsd-signature-symbol">:</span> <a href="AIQueryApi.html" class="tsd-signature-type tsd-kind-class">AIQueryApi</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L33">src/payments.ts:33</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="requests" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>requests</span><a href="#requests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">requests</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AgentRequestsAPI</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L36">src/payments.ts:36</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="returnUrl" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>return<wbr/>Url</span><a href="#returnUrl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">return<wbr/>Url</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.returnUrl</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L15">src/api/base-payments.ts:15</a></li></ul></aside></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="version" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <code class="tsd-tag ts-flagOptional">Optional</code> <span>version</span><a href="#version" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">version</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.version</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L17">src/api/base-payments.ts:17</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="x402" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>x402</span><a href="#x402" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">x402</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">X402TokenAPI</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L41">src/payments.ts:41</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="a2a" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>a2a</span><a href="#a2a" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">a2a</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">buildPaymentAgentCard</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">baseCard</span>, <span class="tsd-kind-parameter">paymentMetadata</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/AgentCard.html" class="tsd-signature-type tsd-kind-interface">AgentCard</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = ...</span></div><div class="tsd-comment tsd-typography"><p>Static A2A helpers and utilities.
Example: Payments.a2a.buildPaymentAgentCard(...)</p>
</div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">build<wbr/>Payment<wbr/>Agent<wbr/>Card</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">baseCard</span>, <span class="tsd-kind-parameter">paymentMetadata</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/AgentCard.html" class="tsd-signature-type tsd-kind-interface">AgentCard</a><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="a2a.__type-36.buildPaymentAgentCard.__type-37.__type-38"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">baseCard</span>, <span class="tsd-kind-parameter">paymentMetadata</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/AgentCard.html" class="tsd-signature-type tsd-kind-interface">AgentCard</a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Builds an AgentCard with payment/pricing metadata in the capabilities.extensions field.</p>
<p>This function takes a base agent card and payment metadata, then creates a new
agent card that includes the payment information in a standardized extension.
The payment extension follows the A2A standard for extensibility and uses the
URI &#39;urn:nevermined:payment&#39; to identify payment-related capabilities.</p>
<p>The resulting agent card can be used with the PaymentsA2AServer to provide
payment-enabled A2A agent functionality.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">baseCard</span>: <a href="../interfaces/AgentCard.html" class="tsd-signature-type tsd-kind-interface">AgentCard</a></span><div class="tsd-comment tsd-typography"><p>The base AgentCard (without payment info)</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">paymentMetadata</span>: <span class="tsd-signature-type">PaymentAgentCardMetadata</span></span><div class="tsd-comment tsd-typography"><p>The payment/pricing metadata to include</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/AgentCard.html" class="tsd-signature-type tsd-kind-interface">AgentCard</a></h4><p>The AgentCard with payment info in capabilities.extensions</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">baseCard</span><span class="hl-2">: </span><span class="hl-10">AgentCard</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-8">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;My AI Assistant&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">description:</span><span class="hl-2"> </span><span class="hl-3">&#39;An AI assistant that helps with various tasks&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">capabilities:</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-8">tools:</span><span class="hl-2"> [</span><span class="hl-3">&#39;text-generation&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;image-analysis&#39;</span><span class="hl-2">],</span><br/><span class="hl-2">    </span><span class="hl-8">extensions:</span><span class="hl-2"> []</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">paymentMetadata</span><span class="hl-2">: </span><span class="hl-10">PaymentAgentCardMetadata</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-8">paymentType:</span><span class="hl-2"> </span><span class="hl-3">&#39;fixed&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">credits:</span><span class="hl-2"> </span><span class="hl-6">10</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">agentId:</span><span class="hl-2"> </span><span class="hl-3">&#39;agent-123&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">planId:</span><span class="hl-2"> </span><span class="hl-3">&#39;plan-456&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">costDescription:</span><span class="hl-2"> </span><span class="hl-3">&#39;10 credits per request&#39;</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">paymentCard</span><span class="hl-2"> = </span><span class="hl-1">buildPaymentAgentCard</span><span class="hl-2">(</span><span class="hl-8">baseCard</span><span class="hl-2">, </span><span class="hl-8">paymentMetadata</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// Use with PaymentsA2AServer</span><br/><span class="hl-8">PaymentsA2AServer</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">agentCard:</span><span class="hl-2"> </span><span class="hl-8">paymentCard</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">executor:</span><span class="hl-2"> </span><span class="hl-5">new</span><span class="hl-2"> </span><span class="hl-1">MyExecutor</span><span class="hl-2">(),</span><br/><span class="hl-2">  </span><span class="hl-8">paymentsService:</span><span class="hl-2"> </span><span class="hl-8">payments</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">port:</span><span class="hl-2"> </span><span class="hl-6">41242</span><br/><span class="hl-2">})</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li></ul></div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L94">src/payments.ts:94</a></li></ul></aside></section></section><section class="tsd-panel-group tsd-member-group"><h2>Accessors</h2><section class="tsd-panel tsd-member"><a id="a2a-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>a2a</span><a href="#a2a-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="a2a-1.a2a-2"><span class="tsd-signature-keyword">get</span> a2a<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">getClient</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PaymentsClient</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">PaymentsA2AServerResult</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Exposes A2A server and client registry methods.
The client registry is initialized only if getClient is called.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">getClient</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PaymentsClient</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">PaymentsA2AServerResult</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">get<wbr/>Client</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PaymentsClient</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><div class="tsd-comment tsd-typography"><p>Gets (or creates) a RegisteredPaymentsClient for the given alias.
The registry is initialized only on first use.</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="a2a-1.a2a-2.__type-39.getClient.__type-40.__type-41"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PaymentsClient</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>ClientRegistryOptions.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PaymentsClient</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">PaymentsA2AServerResult</span><span class="tsd-signature-symbol">)</span></h5><div class="tsd-comment tsd-typography"><p>Starts the A2A server with payment integration.</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="a2a-1.a2a-2.__type-39.start-1.__type-42.__type-43"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">PaymentsA2AServerResult</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PaymentsA2AServerOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;paymentsService&quot;</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Server options.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">PaymentsA2AServerResult</span></h4></li></ul></li></ul></li></ul><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L55">src/payments.ts:55</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="isLoggedIn" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Logged<wbr/>In</span><a href="#isLoggedIn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="isLoggedIn.isLoggedIn-1"><span class="tsd-signature-keyword">get</span> isLoggedIn<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Checks if a user is logged in.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p>True if the user is logged in.</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">isLoggedIn</span>
</code><button>Copy</button></pre>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L223">src/payments.ts:223</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="mcp" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>mcp</span><a href="#mcp" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1"><span class="tsd-signature-keyword">get</span> mcp<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">attach</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">server</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4.TArgs-4">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4.TArgs-5">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">authenticateMeta</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">extra</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">method</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">configure</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">createApp</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Application</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">createRouter</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Router</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">getConfig</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerPrompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerPrompt-5.__type-58.__type-59.Args-2">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerResource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">uriOrTemplate</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerTool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerTool-5.__type-62.__type-63.Args-3">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">startServer</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">stop</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">withPaywall</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-71.TArgs-6">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-74.TArgs-7">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the MCP integration API. The instance is memoized so that configuration
set via <code>configure({ agentId, serverName })</code> persists across calls.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">attach</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">server</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4.TArgs-4">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4.TArgs-5">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">authenticateMeta</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">extra</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">method</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">configure</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">createApp</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Application</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">createRouter</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Router</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">getConfig</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerPrompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerPrompt-5.__type-58.__type-59.Args-2">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerResource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">uriOrTemplate</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerTool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerTool-5.__type-62.__type-63.Args-3">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">startServer</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">stop</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">withPaywall</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-71.TArgs-6">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-74.TArgs-7">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">attach</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">server</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4.TArgs-4">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4.TArgs-5">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.attach-1.__type-45.__type-46"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">server</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4.TArgs-4">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4.TArgs-5">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Attach paywall protection to an MCP server.
Returns a registrar with protected register methods.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">server</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">registerPrompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerResource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">registerTool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>The MCP server instance</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Prompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Resource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">template</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Tool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-call-signature">registerPrompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4.TArgs-4">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerResource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-call-signature">registerTool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4.TArgs-5">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h4><p>Protected registrar</p>
<ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-method">register<wbr/>Prompt</span><span class="tsd-signature-symbol">:</span>function</h5><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4" class="tsd-anchor"></a><span class="tsd-kind-call-signature">register<wbr/>Prompt</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4.TArgs-4">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerPrompt-3.registerPrompt-4.TArgs-4" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerPrompt.registerPrompt-1.TArgs">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">PromptOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;kind&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;name&quot;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/mcp/index.ts#L354">src/mcp/index.ts:354</a></li></ul></aside></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-method">register<wbr/>Resource</span><span class="tsd-signature-symbol">:</span>function</h5><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerResource-3.registerResource-4" class="tsd-anchor"></a><span class="tsd-kind-call-signature">register<wbr/>Resource</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">template</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerResource-3.registerResource-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">template</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">uri</span>: <span class="tsd-signature-type">URL</span></span></li><li><span><span class="tsd-kind-parameter">variables</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ResourceOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;kind&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;name&quot;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/mcp/index.ts#L335">src/mcp/index.ts:335</a></li></ul></aside></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-method">register<wbr/>Tool</span><span class="tsd-signature-symbol">:</span>function</h5><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4" class="tsd-anchor"></a><span class="tsd-kind-call-signature">register<wbr/>Tool</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4.TArgs-5">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="mcp.mcp-1.__type-44.attach-1.__type-45.__type-46.__type-47.registerTool-3.registerTool-4.TArgs-5" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">any</span></span></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.attach.__type-1.__type-2.__type-3.registerTool.registerTool-1.TArgs-1">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ToolOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;kind&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;name&quot;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/mcp/index.ts#L326">src/mcp/index.ts:326</a></li></ul></aside></li></ul></li></ul><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">authenticate<wbr/>Meta</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">extra</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">method</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.authenticateMeta-1.__type-48.__type-49"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">extra</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">method</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Authenticate meta MCP operations (initialize, tools/list, etc.).</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>The extra parameter from MCP</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">planId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = {}</span></span><ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-property">plan<wbr/>Id</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li></ul></li><li><span><span class="tsd-kind-parameter">method</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The MCP method being called</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/AuthResult.html" class="tsd-signature-type tsd-kind-interface">AuthResult</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Authentication result</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">configure</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.configure-1.__type-50.__type-51"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Configure the MCP integration.
This sets up the agent ID, server name, and optional HTTP settings.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a></span><div class="tsd-comment tsd-typography"><p>Configuration options</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">configure</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">agentId:</span><span class="hl-2"> </span><span class="hl-3">&#39;agent_123&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">baseUrl:</span><span class="hl-2"> </span><span class="hl-3">&#39;http://localhost:5001&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">environment:</span><span class="hl-2"> </span><span class="hl-3">&#39;staging_sandbox&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">tools:</span><span class="hl-2"> [</span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;weather&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">})</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">create<wbr/>App</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Application</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.createApp-1.__type-52.__type-53"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Application</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create an Express app pre-configured with OAuth discovery endpoints.
Use this when you want more control over the app before starting.</p>
<p>Note: Authentication is handled by withPaywall() on each tool,
not by HTTP middleware.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">Omit</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">CreateRouterOptions</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;agentId&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">agentId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></span><div class="tsd-comment tsd-typography"><p>App configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Application</span></h4><p>Configured Express app with OAuth endpoints</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">app</span><span class="hl-2"> = </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">createApp</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">baseUrl:</span><span class="hl-2"> </span><span class="hl-3">&#39;http://localhost:5001&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-0">// Add your MCP handler - auth via withPaywall() on each tool</span><br/><span class="hl-8">app</span><span class="hl-2">.</span><span class="hl-1">post</span><span class="hl-2">(</span><span class="hl-3">&#39;/mcp&#39;</span><span class="hl-2">, </span><span class="hl-8">mcpHandler</span><span class="hl-2">)</span><br/><br/><span class="hl-8">app</span><span class="hl-2">.</span><span class="hl-1">listen</span><span class="hl-2">(</span><span class="hl-6">5001</span><span class="hl-2">)</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">create<wbr/>Router</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Router</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.createRouter-1.__type-54.__type-55"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Router</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create an Express router with OAuth 2.1 endpoints.
Use this when you already have an Express app and want to add OAuth support.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">CreateRouterOptions</span></span><div class="tsd-comment tsd-typography"><p>Router configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Router</span></h4><p>Express Router</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">router</span><span class="hl-2"> = </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">createRouter</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">baseUrl:</span><span class="hl-2"> </span><span class="hl-3">&#39;http://localhost:5001&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">tools:</span><span class="hl-2"> [</span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-8">app</span><span class="hl-2">.</span><span class="hl-1">use</span><span class="hl-2">(</span><span class="hl-8">router</span><span class="hl-2">)</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">get<wbr/>Config</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.getConfig-1.__type-56.__type-57"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get the current configuration.</p>
</div><h4 class="tsd-returns-title">Returns <a href="../interfaces/ExtendedMcpConfig.html" class="tsd-signature-type tsd-kind-interface">ExtendedMcpConfig</a></h4><p>Current MCP configuration</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Prompt</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerPrompt-5.__type-58.__type-59.Args-2">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.registerPrompt-5.__type-58.__type-59"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerPrompt-5.__type-58.__type-59.Args-2">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a prompt with the simplified API.
Must be called before start().
Matches the signature of MCP SDK registerPrompt.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="mcp.mcp-1.__type-44.registerPrompt-5.__type-58.__type-59.Args-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">Args</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Prompt name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpPromptConfig</span></span><div class="tsd-comment tsd-typography"><p>Prompt configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">PromptHandler</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerPrompt-2.__type-14.__type-15.Args">Args</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Prompt handler function</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">McpRegistrationOptions</span></span><div class="tsd-comment tsd-typography"><p>Registration options (credits, etc.)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Resource</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">uriOrTemplate</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.registerResource-5.__type-60.__type-61"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">uriOrTemplate</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a resource with the simplified API.
Must be called before start().</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Resource name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">uriOrTemplate</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Resource URI (string) or template</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpResourceConfig</span></span><div class="tsd-comment tsd-typography"><p>Resource metadata configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">ResourceHandler</span></span><div class="tsd-comment tsd-typography"><p>Resource handler function</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">McpRegistrationOptions</span></span><div class="tsd-comment tsd-typography"><p>Registration options (credits, etc.)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">register<wbr/>Tool</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerTool-5.__type-62.__type-63.Args-3">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.registerTool-5.__type-62.__type-63"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.registerTool-5.__type-62.__type-63.Args-3">Args</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">name</span>, <span class="tsd-kind-parameter">config</span>, <span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register a tool with the simplified API.
Must be called before start().</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="mcp.mcp-1.__type-44.registerTool-5.__type-62.__type-63.Args-3" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">Args</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">name</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Tool name</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpToolConfig</span></span><div class="tsd-comment tsd-typography"><p>Tool configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-type">ToolHandler</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.registerTool-2.__type-18.__type-19.Args-1">Args</a><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Tool handler function</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">McpRegistrationOptions</span></span><div class="tsd-comment tsd-typography"><p>Registration options (credits, etc.)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">registerTool</span><span class="hl-2">(</span><br/><span class="hl-2">  </span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  {</span><br/><span class="hl-2">    </span><span class="hl-8">description:</span><span class="hl-2"> </span><span class="hl-3">&#39;Returns a hello world message&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-8">inputSchema:</span><span class="hl-2"> { </span><span class="hl-8">name:</span><span class="hl-2"> { </span><span class="hl-8">type:</span><span class="hl-2"> </span><span class="hl-3">&#39;string&#39;</span><span class="hl-2"> } }</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-5">async</span><span class="hl-2"> (</span><span class="hl-8">args</span><span class="hl-2">: { </span><span class="hl-8">name</span><span class="hl-2">: </span><span class="hl-10">string</span><span class="hl-2"> }, </span><span class="hl-8">context</span><span class="hl-2">?: </span><span class="hl-10">ToolContext</span><span class="hl-2">) </span><span class="hl-5">=&gt;</span><span class="hl-2"> ({</span><br/><span class="hl-2">    </span><span class="hl-8">content:</span><span class="hl-2"> [{ </span><span class="hl-8">type:</span><span class="hl-2"> </span><span class="hl-3">&#39;text&#39;</span><span class="hl-2">, </span><span class="hl-8">text:</span><span class="hl-2"> </span><span class="hl-3">`Hello, </span><span class="hl-5">${</span><span class="hl-8">args</span><span class="hl-11">.</span><span class="hl-8">name</span><span class="hl-5">}</span><span class="hl-3">!`</span><span class="hl-2"> }]</span><br/><span class="hl-2">  }),</span><br/><span class="hl-2">  { </span><span class="hl-8">credits:</span><span class="hl-2"> </span><span class="hl-6">1</span><span class="hl-2">, </span><span class="hl-8">onRedeemError:</span><span class="hl-2"> </span><span class="hl-3">&#39;ignore&#39;</span><span class="hl-2"> }</span><br/><span class="hl-2">)</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">start</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.start-2.__type-64.__type-65"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Start the MCP server with the simplified API.
This creates and starts everything: McpServer, Express, OAuth endpoints, etc.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-type">McpServerConfig</span></span><div class="tsd-comment tsd-typography"><p>Server configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">McpServerResult</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Server result with stop() method</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-0">// Register tools first</span><br/><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">registerTool</span><span class="hl-2">(</span><span class="hl-3">&#39;hello&#39;</span><span class="hl-2">, { </span><span class="hl-8">description:</span><span class="hl-2"> </span><span class="hl-3">&#39;...&#39;</span><span class="hl-2"> }, </span><span class="hl-8">handler</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// Then start the server</span><br/><span class="hl-5">const</span><span class="hl-2"> { </span><span class="hl-9">info</span><span class="hl-2">, </span><span class="hl-9">stop</span><span class="hl-2"> } = </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">start</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">port:</span><span class="hl-2"> </span><span class="hl-6">5001</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">agentId:</span><span class="hl-2"> </span><span class="hl-3">&#39;did:nv:...&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-8">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Server running at </span><span class="hl-5">${</span><span class="hl-8">info</span><span class="hl-11">.</span><span class="hl-8">baseUrl</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// Later: stop gracefully</span><br/><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-1">stop</span><span class="hl-2">()</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">start<wbr/>Server</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.startServer-1.__type-66.__type-67"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Start a managed HTTP server with OAuth 2.1 support.
This creates a complete Express server with all OAuth endpoints pre-configured.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">StartServerOptions</span></span><div class="tsd-comment tsd-typography"><p>Server configuration</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/HttpServerResult.html" class="tsd-signature-type tsd-kind-interface">HttpServerResult</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Server result with control methods</p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-2"> { </span><span class="hl-9">baseUrl</span><span class="hl-2">, </span><span class="hl-9">stop</span><span class="hl-2"> } = </span><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-8">mcp</span><span class="hl-2">.</span><span class="hl-1">startServer</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">port:</span><span class="hl-2"> </span><span class="hl-6">5001</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">serverName:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-mcp-server&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">tools:</span><span class="hl-2"> [</span><span class="hl-3">&#39;hello_world&#39;</span><span class="hl-2">, </span><span class="hl-3">&#39;weather&#39;</span><span class="hl-2">]</span><br/><span class="hl-2">})</span><br/><br/><span class="hl-8">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`Server running at </span><span class="hl-5">${</span><span class="hl-8">baseUrl</span><span class="hl-5">}</span><span class="hl-3">`</span><span class="hl-2">)</span><br/><br/><span class="hl-0">// Later: gracefully stop</span><br/><span class="hl-7">await</span><span class="hl-2"> </span><span class="hl-1">stop</span><span class="hl-2">()</span>
</code><button>Copy</button></pre>
</div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">stop</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.stop-1.__type-68.__type-69"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Stop the MCP server.
This is a convenience method - you can also use the stop() from start()&#39;s result.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">with<wbr/>Paywall</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-71.TArgs-6">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-74.TArgs-7">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-71"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-71.TArgs-6">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Wrap a handler with paywall protection.
The wrapped handler will validate authentication and burn credits.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-71.TArgs-6" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">ToolOptions</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PromptOptions</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-71.__type-72.__type-73"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-27.TArgs-2">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul><div class="tsd-comment tsd-typography"></div></li><li class="tsd-signature" id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-74"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-74.TArgs-7">TArgs</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></li><li class="tsd-description"><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-74.TArgs-7" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">TArgs</span> = <span class="tsd-signature-type">any</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-74.__type-75.__type-76"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">args</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">args</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="Payments.html#_mcpIntegration.__type.withPaywall.__type-26.__type-30.TArgs-3">TArgs</a></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li><li class="tsd-signature" id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-77"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">handler</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span></span><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span>, <span class="tsd-kind-parameter">context</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">uri</span>: <span class="tsd-signature-type">URL</span></span></li><li><span><span class="tsd-kind-parameter">variables</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">context</span>: <a href="../interfaces/PaywallContext.html" class="tsd-signature-type tsd-kind-interface">PaywallContext</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4></li></ul></li></ul></li><li><span><span class="tsd-kind-parameter">options</span>: <span class="tsd-signature-type">ResourceOptions</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span></h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="mcp.mcp-1.__type-44.withPaywall-1.__type-70.__type-77.__type-78.__type-79"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">uri</span>, <span class="tsd-kind-parameter">variables</span>, <span class="tsd-kind-parameter">extra</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">uri</span>: <span class="tsd-signature-type">URL</span></span></li><li><span><span class="tsd-kind-parameter">variables</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></span></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">extra</span>: <span class="tsd-signature-type">any</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></li></ul></li></ul></li></ul><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L83">src/payments.ts:83</a></li></ul></aside></li></ul></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods</h2><section class="tsd-panel tsd-member"><a id="connect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>connect</span><a href="#connect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="connect.connect-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">connect</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#connect.connect-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initiates the connect flow. The user&#39;s browser will be redirected to
the Nevermined App login page.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><h4>Remarks</h4><p>This is a browser-only function.</p>
<h4>Example</h4><pre><code><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-1">connect</span><span class="hl-2">()</span>
</code><button>Copy</button></pre>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L195">src/payments.ts:195</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-inherited"><a id="getAccountAddress" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>get<wbr/>Account<wbr/>Address</span><a href="#getAccountAddress" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="getAccountAddress.getAccountAddress-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Account<wbr/>Address</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span><a href="#getAccountAddress.getAccountAddress-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>It returns the account address associated with the NVM API Key used to initialize the Payments Library instance.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">string</span></h4><p>The account address extracted from the NVM API Key</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.getAccountAddress</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L56">src/api/base-payments.ts:56</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="getBackendHTTPOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>get<wbr/>BackendHTTPOptions</span><a href="#getBackendHTTPOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="getBackendHTTPOptions.getBackendHTTPOptions-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>BackendHTTPOptions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">method</span>, <span class="tsd-kind-parameter">body</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><a href="#getBackendHTTPOptions.getBackendHTTPOptions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><code class="tsd-tag ts-flagInternal">Internal</code> <div class="tsd-comment tsd-typography"><p>Returns the HTTP options required to query the backend.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">method</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>HTTP method.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">body</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Optional request body.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">any</span></h4><p>HTTP options object.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.getBackendHTTPOptions</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L67">src/api/base-payments.ts:67</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="getPublicHTTPOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>get<wbr/>PublicHTTPOptions</span><a href="#getPublicHTTPOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="getPublicHTTPOptions.getPublicHTTPOptions-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>PublicHTTPOptions</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">method</span>, <span class="tsd-kind-parameter">body</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">body</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">headers</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">Accept</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">Content-Type</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">method</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><a href="#getPublicHTTPOptions.getPublicHTTPOptions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><code class="tsd-tag ts-flagInternal">Internal</code> <div class="tsd-comment tsd-typography"><p>Get HTTP options for public backend requests (no authorization header).
Converts body keys from snake_case to camelCase for consistency.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">method</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>HTTP method</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-parameter">body</span>: <span class="tsd-signature-type">any</span></span><div class="tsd-comment tsd-typography"><p>Optional request body (keys will be converted to camelCase)</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">body</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">headers</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>        </span><span class="tsd-kind-property">Accept</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>        </span><span class="tsd-kind-property">Content-Type</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">method</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h4><p>HTTP options object</p>
<ul class="tsd-parameters"><li class="tsd-parameter"><h5><code class="tsd-tag ts-flagOptional">Optional</code> <span class="tsd-kind-property">body</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">headers</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">Accept</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">Content-Type</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h5><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">Accept</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">Content-<wbr/>Type</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li></ul></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">method</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li></ul><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.getPublicHTTPOptions</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L88">src/api/base-payments.ts:88</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-private"><a id="initializeApi" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagPrivate">Private</code> <span>initialize<wbr/>Api</span><a href="#initializeApi" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-private"><li class="tsd-signature tsd-anchor-link"><a id="initializeApi.initializeApi-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">initialize<wbr/>Api</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#initializeApi.initializeApi-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Initializes the AI Query Protocol API.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/PaymentOptions.html" class="tsd-signature-type tsd-kind-interface">PaymentOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L172">src/payments.ts:172</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="logout" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>logout</span><a href="#logout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="logout.logout-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">logout</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#logout.logout-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Logs out the user by removing the NVM API key.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><h4>Remarks</h4><p>This is a browser-only function.</p>
<h4>Example</h4><pre><code><span class="hl-8">payments</span><span class="hl-2">.</span><span class="hl-1">logout</span><span class="hl-2">()</span>
</code><button>Copy</button></pre>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L211">src/payments.ts:211</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member tsd-is-protected tsd-is-inherited"><a id="parseNvmApiKey" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagProtected">Protected</code> <span>parse<wbr/>Nvm<wbr/>Api<wbr/>Key</span><a href="#parseNvmApiKey" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures tsd-is-protected tsd-is-inherited"><li class="tsd-signature tsd-anchor-link"><a id="parseNvmApiKey.parseNvmApiKey-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">parse<wbr/>Nvm<wbr/>Api<wbr/>Key</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">accountAddress</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">heliconeApiKey</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><a href="#parseNvmApiKey.parseNvmApiKey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Parses the NVM API Key to extract the account address.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">accountAddress</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span>    </span><span class="tsd-kind-property">heliconeApiKey</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span></h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">account<wbr/>Address</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-kind-property">helicone<wbr/>Api<wbr/>Key</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li></ul><div class="tsd-comment tsd-typography"><h4>Throws</h4><p>PaymentsError if the API key is invalid.</p>
</div><aside class="tsd-sources"><p>Inherited from BasePaymentsAPI.parseNvmApiKey</p><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/api/base-payments.ts#L38">src/api/base-payments.ts:38</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getBrowserInstance" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>get<wbr/>Browser<wbr/>Instance</span><a href="#getBrowserInstance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getBrowserInstance.getBrowserInstance-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Browser<wbr/>Instance</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Payments.html" class="tsd-signature-type tsd-kind-class">Payments</a><a href="#getBrowserInstance.getBrowserInstance-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get an instance of the Payments class for browser usage.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/PaymentOptions.html" class="tsd-signature-type tsd-kind-interface">PaymentOptions</a></span><div class="tsd-comment tsd-typography"><p>The options to initialize the payments class.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Payments.html" class="tsd-signature-type tsd-kind-class">Payments</a></h4><p>An instance of <a href="Payments.html" class="tsd-kind-class">Payments</a></p>
<div class="tsd-comment tsd-typography"><h4>Remarks</h4><p>This is a browser-only function.</p>
<h4>Example</h4><pre><code><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">payments</span><span class="hl-2"> = </span><span class="hl-8">Payments</span><span class="hl-2">.</span><span class="hl-1">getBrowserInstance</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">returnUrl:</span><span class="hl-2"> </span><span class="hl-3">&#39;https://mysite.example&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">environment:</span><span class="hl-2"> </span><span class="hl-3">&#39;sandbox&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">appId:</span><span class="hl-2"> </span><span class="hl-3">&#39;my-app-id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">version:</span><span class="hl-2"> </span><span class="hl-3">&#39;1.0.0&#39;</span><br/><span class="hl-2">})</span>
</code><button>Copy</button></pre>
<h4>Throws</h4><p>PaymentsError if returnUrl is missing.</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L136">src/payments.ts:136</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="getInstance" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagStatic">Static</code> <span>get<wbr/>Instance</span><a href="#getInstance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getInstance.getInstance-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Instance</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="Payments.html" class="tsd-signature-type tsd-kind-class">Payments</a><a href="#getInstance.getInstance-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Get an instance of the Payments class for server-side usage.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/PaymentOptions.html" class="tsd-signature-type tsd-kind-interface">PaymentOptions</a></span><div class="tsd-comment tsd-typography"><p>The options to initialize the payments class.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="Payments.html" class="tsd-signature-type tsd-kind-class">Payments</a></h4><p>An instance of <a href="Payments.html" class="tsd-kind-class">Payments</a></p>
<div class="tsd-comment tsd-typography"><h4>Example</h4><pre><code><span class="hl-5">const</span><span class="hl-2"> </span><span class="hl-9">payments</span><span class="hl-2"> = </span><span class="hl-8">Payments</span><span class="hl-2">.</span><span class="hl-1">getInstance</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-8">nvmApiKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;your-nvm-api-key&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-8">environment:</span><span class="hl-2"> </span><span class="hl-3">&#39;sandbox&#39;</span><br/><span class="hl-2">})</span>
</code><button>Copy</button></pre>
<h4>Throws</h4><p>PaymentsError if nvmApiKey is missing.</p>
</div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/nevermined-io/payments/blob/8e1a508db279652f93bf7f439de12e4dc675882f/src/payments.ts#L110">src/payments.ts:110</a></li></ul></aside></li></ul></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#constructor" class="tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a><a href="#_a2aRegistry" class="tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_a2a<wbr/>Registry</span></a><a href="#_mcpIntegration" class="tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>_mcp<wbr/>Integration</span></a><a href="#accountAddress" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>account<wbr/>Address</span></a><a href="#agents" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>agents</span></a><a href="#appId" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>app<wbr/>Id</span></a><a href="#contracts" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>contracts</span></a><a href="#environment" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>environment</span></a><a href="#environmentName" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>environment<wbr/>Name</span></a><a href="#facilitator" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>facilitator</span></a><a href="#heliconeApiKey" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>helicone<wbr/>Api<wbr/>Key</span></a><a href="#isBrowserInstance" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>is<wbr/>Browser<wbr/>Instance</span></a><a href="#nvmApiKey" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>nvm<wbr/>Api<wbr/>Key</span></a><a href="#observability" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>observability</span></a><a href="#organizations" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>organizations</span></a><a href="#plans" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>plans</span></a><a href="#query" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>query</span></a><a href="#requests" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>requests</span></a><a href="#returnUrl" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>return<wbr/>Url</span></a><a href="#version" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>version</span></a><a href="#x402" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>x402</span></a><a href="#a2a" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>a2a</span></a><a href="#a2a-1" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>a2a</span></a><a href="#isLoggedIn" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Logged<wbr/>In</span></a><a href="#mcp" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>mcp</span></a><a href="#connect" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>connect</span></a><a href="#getAccountAddress" class="tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Account<wbr/>Address</span></a><a href="#getBackendHTTPOptions" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>BackendHTTPOptions</span></a><a href="#getPublicHTTPOptions" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>PublicHTTPOptions</span></a><a href="#initializeApi" class="tsd-is-private"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>initialize<wbr/>Api</span></a><a href="#logout" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>logout</span></a><a href="#parseNvmApiKey" class="tsd-is-protected tsd-is-inherited"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>parse<wbr/>Nvm<wbr/>Api<wbr/>Key</span></a><a href="#getBrowserInstance" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Browser<wbr/>Instance</span></a><a href="#getInstance" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Instance</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>@nevermined-io/payments</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>